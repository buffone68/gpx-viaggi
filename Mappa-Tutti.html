<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <title>Tutti i viaggi – GPX (solo tracciati)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet + Leaflet-GPX -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>

  <style>
    html, body { height:100%; margin:0; }
    #map { height:100%; }
  </style>
</head>
<body>
  <div id="map"></div>

<script>
/* =======================
   MAPPA BASE (nessuna legenda/marker)
   ======================= */
const map = L.map('map', { zoomControl: true }).setView([15, 10], 2);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '© OpenStreetMap'
}).addTo(map);

/* =======================
   LISTE GPX PER STATO
   (aggiungi qui altri paesi copiando lo schema)
   ======================= */

// NAMIBIA (rosso)
const namibia = [
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-07-28-Giorno-01-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-07-29-Giorno-02-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-07-30-Giorno-03-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-07-31-Giorno-04-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-01-Giorno-05-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-02-Giorno-06-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-03-Giorno-07-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-04-Giorno-08-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-05-Giorno-09-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-06-Giorno-10-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-07-Giorno-11-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-08-Giorno-12-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-09-Giorno-13-Namibia.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2025.07-Namibia/2025-08-10-Giorno-14-Namibia.GPX'
];

// UGANDA (blu)
const uganda = [
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-24-Giorno-01-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-25-Giorno-02-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-26-Giorno-03-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-27-Giorno-04-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-28-Giorno-05-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-29-Giorno-06-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-30-Giorno-07-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-10-31-Giorno-08-Uganda-Scimpanzè.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.10-Uganda-Scimpanzè/2024-11-01-Giorno-09-Uganda-Scimpanzè.GPX'
];

// SRI LANKA (verde)
const srilanka = [
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-25-Giorno-01-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-26-Giorno-02-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-27-Giorno-03-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-28-Giorno-04-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-29-Giorno-05-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-04-30-Giorno-06-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-05-01-Giorno-07-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-05-02-Giorno-08-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-05-03-Giorno-09-Sri-Lanka-Solo.GPX',
  'https://raw.githubusercontent.com/buffone68/gpx-viaggi/refs/heads/main/2024.04-Sri-Lanka-Solo/2024-05-04-Giorno-10-Sri-Lanka-Solo.GPX'
];

/* =======================
   RENDER DELLE TRACCE (SENZA MARKER)
   ======================= */

const overall = L.latLngBounds([]);

function addCountry(files, color) {
  files.forEach(url => {
    const g = new L.GPX(url, {
      async: true,
      // solo linea: no start/end, no waypoints
      marker_options: { startIconUrl: null, endIconUrl: null, shadowUrl: null, wptIconUrls: {} },
      polyline_options: { color, weight: 3.5, opacity: 0.95 }
    })
    .on('loaded', e => {
      const b = e.target.getBounds && e.target.getBounds();
      if (b && b.isValid()) overall.extend(b);
      // al termine del caricamento di tutte le tracce faremo fitBounds (vedi sotto)
    })
    .addTo(map);
  });
}

// colori per stato
addCountry(namibia,  '#e41a1c'); // rosso
addCountry(uganda,   '#377eb8'); // blu
addCountry(srilanka, '#4daf4a'); // verde

// dopo un attimo, adatta la vista a tutto
setTimeout(() => { if (overall.isValid()) map.fitBounds(overall, {padding:[20,20]}); }, 1000);

/* =======================
   COME AGGIUNGERE ALTRI STATI
   -----------------------
   1) Crea un array con gli URL raw dei GPX (come sopra).
   2) Chiama addCountry(mioArray, '#colore').
   Fatto.
   ======================= */
</script>
</body>
</html>
